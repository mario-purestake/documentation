# Разверните новую версию вашего проекта SubQuery

## Руководство

Хотя у вас есть свобода всегда обновлять и развертывать новые версии вашего проекта SubQuery, пожалуйста, будьте внимательны во время этого процесса, если ваш проект SubQuery является общедоступным для всего мира. Некоторые ключевые моменты для заметки:

- Если ваше обновление является критическим изменением, либо создайте новый проект (например, `My SubQuery Project V2`), либо предупредите свое сообщество об изменении через каналы социальных сетей.
- Развертывание новой версии проекта SubQuery займет некоторое время, поскольку новая версия индексирует всю цепочку из блока генезиса.

## Запустить изменения

Существует два способа развертывания новой версии вашего проекта в SubQuery Managed Service: вы можете использовать пользовательский интерфейс или непосредственно инструмент `subql` cli.

### Использование пользовательского интерфейса

Войдите в SubQuery Project и выберите проект, для которого вы хотите развернуть новую версию. Вы можете выбрать развертывание в производственном или промежуточном слоте. Эти два слота являются изолированными средами, каждая из которых имеет свои собственные базы данных и синхронизируется независимо друг от друга.

Мы рекомендуем выполнять развертывание в слот постановки только для окончательного тестирования постановки или когда необходимо повторно синхронизировать данные проекта. Затем вы можете запустить его в производство с нулевым временем простоя. Вы обнаружите, что тестирование проходит быстрее, если [запускать проект локально](../run_publish/run.md), так как вы можете более [легко отлаживать проблемы](../academy/tutorials_examples/debug-projects.md).

Постановочный слот идеально подходит для:

- Окончательная проверка изменений в вашем проекте SubQuery в отдельной среде. Промежуточный слот имеет другой URL-адрес для производства, который вы можете использовать в своих dApps.
- Разогрев и индексирование данных для обновленного проекта SubQuery для устранения простоев в вашем dApp.
- Подготовка нового релиза для вашего проекта SubQuery без его опубликования. Промежуточный слот не отображается публично в поисковике и имеет уникальный URL-адрес, который виден только вам.

![Промежуточный слот](/assets/img/staging_slot.png)

Заполните Commit Hash из GitHub (скопируйте полный Commit Hash) той версии базы кода вашего проекта SubQuery, которую вы хотите развернуть. Это приведет к увеличению времени простоя в зависимости от времени, необходимого для индексации текущей цепочки. Вы всегда можете сообщить об этом здесь.

### Использование CLI

Вы также можете использовать `@subql/cli` для создания нового развертывания вашего проекта в нашей управляемой службе. Для этого необходимо:

- `@subql/cli` версии 1.1.0 или выше.
- Действительный [SUBQL_ACCESS_TOKEN](../run_publish/ipfs.md#prepare-your-subql-access-token) готов.

```shell
// Вы можете напрямую установить версии индексатора и запроса
$ subql deployment:deploy --indexerVersion=1.1.2 --queryVersion=1.1.1

// ИЛИ вы можете использовать интерфейс, он проверит ваш IPFS CID и выдаст список версий образов, соответствующих вашему файлу манифеста `project.yaml`.

$ subql deployment:deploy
```

## Обновление до последней версии индексатора и Query Service

Если вы просто хотите перейти на последнюю версию индексатора ([`@subql/node`](https://www.npmjs.com/package/@subql/node)) или службы запросов ([`@subql/query`](https://www.npmjs.com/package/@subql/query)), чтобы воспользоваться преимуществами наших регулярных улучшений производительности и стабильности, просто выберите более новые версии наших пакетов и сохраните. Это вызовет лишь несколько минут простоя, когда будут перезапущены службы, работающие с вашим проектом.

## Следующие шаги - подключитесь к вашему проекту

После успешного завершения установки и успешного индексирования нашими узлами ваших данных из цепочки, вы сможете подключиться к вашему проекту через отображённую конечную точку запроса GraphQL Query.

![Проект будет развернут и синхронизирован](/assets/img/projects-deploy-sync.png)

Кроме того, вы можете щелкнуть три точки рядом с названием вашего проекта и просмотреть его в SubQuery Explorer. Там вы можете использовать игровую площадку в браузере, чтобы начать работу - [читайте больше о том, как использовать наш Explorer здесь](../run_publish/query.md).
